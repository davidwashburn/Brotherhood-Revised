<!-- Created by David on 9.19.16 -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
    <title>Brotherhood Gaming</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="description" content="">
    <meta name="author" content="David">
    <!-- Viewport for Mobile Responsiveness -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/style.css" media="all">
    <link rel="stylesheet" type="text/css" href="css/reddit.css" media="all">
    <!-- Scripts -->
    <script src="js/jquery.min.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/moment.min.js"></script>
</head>
    <body id="body">
        <div class="indexHero">
            <!-- Main Navigation Menu -->
            <div class="navFixed"></div>
            <div class="navHeader clearFix">
                <i class="navIcon material-icons floatLeft" id="navMenu">menu</i>
                <h1 class="navTitle">Brotherhood</h1>
                <i class="navIcon material-icons floatRight" id="navSearch">search</i>
            </div>

            <!-- Content -->
            <div class="container">
                <div class="main clearFix">
                    <!-- Primary Content -->

                    <!-- START Experimental Content -->
                    <div class="clearFix" id="redditMain">
                        <div class="redditContainer">
                            <div class="redditHeader">
                                <i class="redditControls material-icons floatLeft" id="expand">view_compact</i>
                                <i class="redditControls material-icons floatLeft" id="orderView">subject</i>
                                <p class="redditLabel">Dayz</p>
                                <i class="redditControls material-icons floatRight" id="redditRefresh">
                                    refresh
                                </i>
                            </div>
                            <div class="cardbox news nopad">
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listrow nomargin">
                                    <div class="newsContainer clearFix">
                                        <div class="redditThumbnail clearfix"></div>
                                        <div class="articleHeader read clearfix">
                                            <div class="actionmenuHeader">
                                                <div class="userNameContainer"></div>
                                                <div class="redditFlair"></div>
                                                <div class="subRedditName"></div>
                                                <div class="redditDate"></div>
                                                <div class="redditScore">
                                                    <i class="redditUpvote material-icons">
                                                        keyboard_arrow_up
                                                    </i>
                                                </div>
                                            </div>
                                            <p class="redditTitle clearfix mediaTitle"></p>
                                            <div class="redditPost mediumtext"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="redditFooter" style="border-bottom:0;">
                                    <div class="sectionScroll">
                                        <div class="pages floatLeft">
                                            <i class="material-icons pageButton floatLeft white">keyboard_arrow_left</i>
                                            <p class="floatLeft white" style="line-height: 50px;">Prev</p>
                                        </div>
                                        <div class="pages floatRight">
                                            <i class="material-icons pageButton floatRight white">keyboard_arrow_right</i>
                                            <p class="floatRight white" style="line-height: 50px;">Next</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END Experimental Content -->
                    <div id="sideContent" class="hide">
                        <div class="section clearFix">
                            <p class="sectionTitle white floatLeft">About Brotherhood Gaming</p>
                        </div>
                        <div class="section clearFix">
                            <div class="gameSection">DayZ</div>
                            <div class="gameSection">Arma</div>
                            <div class="gameSection">Squad</div>
                        </div>
                    </div>


                </div>
            </div>

            <div class="overlay" id="overlay"></div>
            <!-- End Content -->

            <!-- Main Menu -->
            <div class="mainMenu shadow" id="mainMenu">
                <h3 class="menuTitle">
                    Menu
                    <i id="menuCloseButton" type="button" class="material-icons optbtn floatRight">clear</i>
                </h3>
                <div id="aboutMenuButton" class="mainMenuButton">
                    <a href="index.html">
                        <p>Home</p>
                    </a>
                </div>
                <div id="aboutMenuButton" class="mainMenuButton">
                    <p>
                        <a href="reddit.html">
                            Reddit
                        </a>
                    </p>
                </div>
                <div id="statsMenuButton" class="mainMenuButton">
                    <p>
                        <a href="stats.php">
                            Statistics
                        </a>
                    </p>
                </div>
                <div id="settingsMenuButton" class="mainMenuButton">
                    <p>Settings</p>
                </div>
                <p id="menuFooter" class="menuFooter">
                    Brotherhood Gaming (© <a href="#" target="_blank">2016</a>) is operated by <a href="#" target="_blank">fools</a>.
                    Design by <a href="#" target="_blank">DWashburn</a>. Powered by
                    <a href="#" target="_blank">Hampsters.</a>
                </p>
            </div>
            <!-- End Main Menu -->

            <!-- Settings Menu -->
            <div class="settingsMenu shadow" id="settingsMenu">
                <h3 class="menuTitle">
                    Settings
                    <i id="settingsCloseButton" type="button" class="material-icons optbtn floatRight">keyboard_arrow_up</i>
                </h3>
                <div class="mainMenuButton">
                    <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">
                        <p>Coming Soon!</p>
                    </a>
                </div>
            </div>
            <!-- End Settings Menu -->
        </div>

        <script>
        // Expand Images and Switch to Card View
            $("#expand").click(function () {
                $(".redditImage.active, .redditImage.hide").toggleClass('active hide');
                $(".articleHeader").toggleClass('read');
                $(".newsContainer").toggleClass('read');
                $("#expand").toggleClass('selected');
            });
            $("#orderView").click(function () {
                $(".cardbox.news").toggleClass("nopad");
                $(".listrow").toggleClass("nomargin");
                $("#orderView").toggleClass("selected");
            });
        // Collapse Reddit Section on click
            $("#redditRefresh").on("click",function(){
                $("#redditRefresh").toggleClass('rotate');
                $(this).parent().parent().find(".cardbox").slideToggle("fast");
            });

        // Get JSON data for Dayz Subreddit
                $.getJSON(
                        'https://www.reddit.com/r/dayz.json',
                        function foo(data) {
                            $(".listrow").each(function (i) {
                                $(this).attr('id', "news" + (i + 1));
                            });
                            $.each(
                                    // iterate over 10 children, starting at the 0th index
                                    data.data.children.slice(0, 11),
                                    function (i, post) {
                                        //Load reddit title in correct div//
                                        $('#news' + i + ' .redditTitle').append(
                                                $('<a>')
                                                        .attr('href', 'https://m.reddit.com' + post.data.permalink)
                                                        .text(post.data.title)
                                        );

                                        //Load reddit Score (net UP - DOWN)//
                                        $('#news' + i + ' .redditScore').prepend(
                                                $('<p>')
                                                        .attr('class', 'redditUpvoteScore')
                                                        .text(post.data.score)
                                        );

                                        //Load reddit post-text in HTML format//
                                        $('#news' + i + ' .redditPost').append(
                                                $('<p>')
                                                        .text(post.data.selftext_html)
                                        );

                                        //Load sub-reddit name in HTML format//
                                        /*$('#news' + i + ' .subRedditName').append(
                                         $('<p>')
                                         .attr('class', 'subRedditFormat')
                                         .text('r/' + post.data.subreddit)
                                         );*/

                                        //Load post thumbnail URL into an <a> tag wrapping the image//
                                        $('#news' + i + ' .redditThumbnail').append(
                                                $('<a>')
                                                        .attr('href', post.data.url)
                                                        .attr('class', 'thumbURL')
                                        );

                                        //Load actual thumbnail into the <a> wrapper tag with the thumbURL class//
                                        $('#news' + i + ' .thumbURL').append(
                                                $('<img>')
                                                        .attr('src', post.data.thumbnail)
                                                        .attr('class', "redditImage hide")
                                        );

                                        //Load reddit Username and URL into container DIV//
                                        $('#news' + i + ' .userNameContainer').append(
                                                $('<a>')
                                                        .attr('class', 'redditUserName')
                                                        .attr('href', 'https://m.reddit.com/user/' + post.data.author)
                                                        .text(post.data.author)
                                        );

                                        // Convert post creation time to local time//
                                        var utcSeconds = post.data.created_utc;
                                        var d = new Date(0);
                                        // The 0 is the key, which sets the date to the epoch
                                        d.setUTCSeconds(utcSeconds);

                                        //Use Moment.js to calculate relative date and append to DIV//
                                        $('#news' + i + ' .redditDate').append(
                                                moment(d).fromNow()
                                        );

                                        //Decodes HTML into correct format by replacing unescaped characters//
                                        $('.redditPost').each(function () {
                                            var $this = $(this);
                                            var t = $this.text();
                                            $this.html(t.replace('&lt', '<').replace('&gt', '>'));
                                            $this.html(t.replace('null', '').replace('null', ''));
                                        });

                                        //Checks for "self" tagged images and replaces with placeholder image//
                                        function changeSourceAll() {
                                            var images = document.getElementsByTagName('img');
                                            for (var i = 0; i < images.length; i++) {
                                                if (images[i].src.indexOf('self') !== -1) {
                                                    images[i].src = images[i].src.replace("self", "css/images/default.jpg");
                                                }
                                            }
                                            for (var i = 0; i < images.length; i++) {
                                                if (images[i].src.indexOf('default') !== -1) {
                                                    images[i].src = images[i].src.replace("self", "css/images/default.jpg");
                                                }
                                            }
                                            for (var i = 0; i < images.length; i++) {
                                                if (images[i].src.indexOf('https://www.brotherhoodgaming.net/default') !== -1) {
                                                    images[i].src = images[i].src.replace("https://www.brotherhoodgaming.net/default", "css/images/default.jpg");
                                                }
                                            }
                                        }

                                        changeSourceAll();
                                    }
                            )
                        }
                )
        </script>
    </body>
</html>
